<section class="contact">
  <div class="container">
    <div class="row">
      <div class="col-lg-5 me-auto order-2 order-lg-1">
        <div class="contact-form-Information">
          <div class="address">
            {{ with .address }}
            <h3>{{.heading}}</h3>
            <p>{{.address}}</p>
            {{ end }}
            <div class="item mb-4">
              {{ with .phone }}
              <h3>{{.heading}}</h3>
              <a href="tel:{{.cell}}">
                {{.cell}}
                <span>
                  <img src="/images/contact/call-add.svg" alt="call-add" loading="lazy" />
                </span>
              </a>
              {{ end }}
            </div>
            <div class="item">
              {{ with .email }}
              <h3>{{.heading}}</h3>
              <a href="mailto:{{.email}}">
                {{.email}}
                <span>
                  <img src="/images/contact/directbox-send.svg" alt="send-box" loading="lazy" />
                </span>
              </a>
              {{ end }}
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6 order-1 order-lg-2">
        <div class="contact-form">
          {{ with .form }}
          <!-- ADD YOUR ACTION BELOW -->
          <form method="post" action="https://script.google.com/macros/s/AKfycbw7DZwEzg5EjUhWkaXXdlN-ryNNUdG_0xs1SNbXeClkIYjyOC_J5dIXnYLy-WiqrmQ/exec" id="support-form">
            <h3>{{.heading}}</h3>
            {{ with .fullName }}
            <div class="col-md-12">
              <label for="supportName" class="label">{{.heading}}</label>
              <input
                type="text"
                class="form-control"
                id="supportName"
                name="name"
                placeholder="{{.placeHolder}}"
                required
              />
            </div>
            {{ end }}
            {{ with .phoneNumber }}
            <div class="col-md-12">
              <label for="supportPhone" class="label">{{.heading}}</label>
              <input
                type="tel"
                class="form-control"
                id="supportPhone"
                name="phone-number"
                placeholder="{{.placeHolder}}"
                required
              />
            </div>
            {{ end }}
            {{ with .email }}
            <div class="col-md-12">
              <label for="supportEmail" class="label">{{.heading}}</label>
              <input
                type="email"
                class="form-control mb-6"
                id="supportEmail"
                name="_replyto"
                placeholder="{{.placeHolder}}"
                required
              />
            </div>
            {{ end }}
            {{ with .message }}
            <div class="col-12">
              <label for="supportMessage" class="label">{{.heading}}</label>
              <textarea
                class="form-control mb-4"
                id="supportMessage"
                name="message"
                placeholder="{{.placeHolder}}"
                rows="8"
                spellcheck="false"
                required
              ></textarea>
            </div>
            {{ end }}
            <input type="text" name="_gotcha" style="display: none" />
            {{ with .submitBtn }}
            <div class="col-12">
              <button type="submit" class="btn btn-primary btn-lg mt-7">
                <span class="position-relative">{{.text}}</span>
              </button>
            </div>
            {{ end }}
          </form>
          {{ end }}
          <div class="effect">
            <img src="/images/contact/effects.png" alt="effects" loading="lazy" />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Success message -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('support-form');
  if (!form) return;
  form.addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(form);
    const urlParams = new URLSearchParams();
    for (const pair of formData) {
      urlParams.append(pair[0], pair[1]);
    }
    fetch(form.action, {
      method: 'POST',
      body: urlParams,
      headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
    }).then(() => {
      form.innerHTML = `
        <div class="contact-success-message" style="
          background: #e6ffed;
          border: 2px solid #14a800;
          color: #175b1a;
          padding: 2rem 1rem;
          text-align: center;
          font-size: 1.25rem;
          border-radius: 12px;
          font-weight: bold;
          box-shadow: 0 2px 24px 0 #c1ffd6;
          margin-top: 2rem;">
          <span style="font-size: 2rem;">âœ…ðŸŽ‰</span>
          <div>Thank you for your support request!<br>Our team will review and get back to you soon.</div>
        </div>
      `;
    }).catch(() => {
      form.innerHTML = '<div class="alert alert-danger">Oops! Something went wrong.</div>';
    });
  });
});
</script>